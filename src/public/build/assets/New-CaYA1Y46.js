import{r as u,j as e,m as c}from"./app-gKVprWtW.js";import{u as j}from"./index.esm-BMgtEpWb.js";/* empty css              */function v(){const[s,l]=u.useState([{id:crypto.randomUUID(),text:""}]),{register:i,handleSubmit:r,formState:{errors:d}}=j({defaultValues:{title:"",description:"",deadline:""}}),o=()=>{l([...s,{id:crypto.randomUUID(),text:""}])},m=t=>{l(s.filter(a=>a.id!==t))},h=t=>{t.choices=s,c.post("/vote/new",t)},p=()=>{console.log("キャンセルボタンが押されたよー"),c.get("/vote/top")};return e.jsx("div",{className:"theme-container",children:e.jsxs("div",{className:"theme-box",children:[e.jsx("h1",{className:"page-title",children:"投票テーマ作成"}),e.jsxs("form",{onSubmit:r(h),className:"theme-form",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"theme-label",children:"タイトル（必須）"}),e.jsx("input",{id:"title",type:"text",...i("title",{required:"タイトルは必須です"}),className:"theme-input",placeholder:"例: 好きな色は？"}),d.title&&e.jsx("span",{className:"form-error",children:d.title.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"theme-label",children:"説明"}),e.jsx("input",{id:"description",type:"text",...i("description"),className:"theme-input"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"deadline",className:"theme-label",children:"締切日時"}),e.jsx("input",{id:"deadline",type:"datetime-local",...i("deadline"),className:"theme-input"})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"選択肢"}),s.map(t=>e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("label",{htmlFor:`choice-${t.id}`,className:"sr-only",children:"選択肢"}),e.jsx("input",{id:`choice-${t.id}`,type:"text",value:t.text,onChange:a=>{const x=s.map(n=>n.id===t.id?{...n,text:a.target.value}:n);l(x)},className:"theme-input",placeholder:`選択肢 ${s.indexOf(t)+1}`}),e.jsx("button",{type:"button",onClick:()=>m(t.id),className:"choice-remove-btn",children:"✕"})]},t.id)),e.jsx("button",{type:"button",onClick:o,className:"choice-add-btn",children:"＋ 選択肢を追加"})]}),e.jsxs("div",{className:"flex gap-2 mt-4 justify-center",children:[e.jsx("button",{type:"submit",className:"theme-add-btn",children:"保存"}),e.jsx("button",{type:"button",onClick:p,className:"theme-cancel-btn",children:"キャンセル"})]})]})]})})}export{v as default};
